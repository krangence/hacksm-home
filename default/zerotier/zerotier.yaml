---
apiVersion: helm.toolkit.fluxcd.io/v2beta1
kind: HelmRelease
metadata:
  name: flood
  namespace: default
replicaCount: 1
image:
  repository: iotops/zerotier-controller 
  pullPolicy: Always 
imagePullSecrets: []
serviceAccount:
  # Specifies whether a service account should be created
  create: true
  # The name of the service account to use.
  # If not set and create is true, a name is generated using the fullname template
  name:
service:
  type: ClusterIP
  port: 3000 
ingress:
  enabled: true 
  annotations: 
    # kubernetes.io/ingress.class: nginx
    # kubernetes.io/tls-acme: "true"
    cert-manager.io/cluster-issuer: letsencrypt-labs-3xmgroup
  hosts:
    - host: zt.labs.3xmgroup.com 
      paths: [ "/" ]
  tls: 
  - hosts: 
    - vpn.robotwizard.co.uk
  #  - zt.labs.3xmgroup.com
  #  secretName: k3s-labs-3xmgroup-tls
  #  - secretName: chart-example-tls
  #    hosts:
  #      - chart-example.local
persistence:
  enabled: true
  accessMode: ReadWriteOnce
  size: 1Gi
